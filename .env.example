# Haystack AI Service Environment Configuration
# Copy this to .env and update with your values

################################################################################
# OPENAI API KEY (Required)
################################################################################
# Required for:
# - AI persona responses (web_assistant, jAImee_therapist, transcriber_agent)
# - Document generation from transcripts
# - Quality/RAGAS evaluation tests (~$2-5 per test run)
# - Promptfoo tests (~$3-5 per run)
# - Red team security tests (~$5-10 per run)
#
# Get your API key from: https://platform.openai.com/api-keys
#
# For testing: You can use a separate API key with rate limits to control costs
# For production: Use a production key with appropriate rate limits
#
# Cost estimates:
# - Development/Testing: ~$10-20/month
# - Production (per session): ~$0.05-0.15 per conversation
#
OPENAI_API_KEY=your_openai_api_key_here
REDIS_URL=redis://localhost:6379
LOG_LEVEL=INFO

# SCALING CONFIGURATION - SUPPORTS THOUSANDS OF USERS
MAX_REQUESTS_PER_USER=10          # Concurrent requests per individual user
MAX_CONCURRENT_REQUESTS=10000     # Theoretical maximum (users * requests_per_user)
SESSION_TIMEOUT_MINUTES=30
HOST=0.0.0.0
PORT=8001

SHOW_TOOL_BANNER=true
SHOW_RAW_TOOL_JSON=false

# Optional: Database connection for web assistant context
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/dbname

# Production High-Scale Settings
# MAX_REQUESTS_PER_USER=20         # Allow more concurrent requests per user
# SESSION_TIMEOUT_MINUTES=60       # Longer sessions for better UX
# LOG_LEVEL=WARNING                # Reduce logging overhead

# Load Balancer Settings (for multiple instances)
# INSTANCE_ID=1                    # Unique ID for each instance
# HEALTH_CHECK_INTERVAL=30         # Health check frequency

################################################################################
# TESTING CONFIGURATION
################################################################################
# For running tests, you may want to override some settings:
#
# Test environment .env file:
# - Copy .env.example to .env.test
# - Set OPENAI_API_KEY (can be same or different key)
# - Set REDIS_URL=redis://localhost:6379 (ensure Redis is running)
# - Set LOG_LEVEL=DEBUG (for verbose test output)
#
# Running tests:
# - Quick tests (5 min, $0): ./run_all_tests.sh --quick
# - Full tests (30-35 min, $2-4): ./run_all_tests.sh
# - With quality tests (45 min, $10-15): ./run_all_tests.sh --with-quality
# - With red team (60-70 min, $15-25): ./run_all_tests.sh --with-quality --red-team
#
# See TESTING.md for detailed testing guide
# See haystackTest.md for test philosophy and rationale